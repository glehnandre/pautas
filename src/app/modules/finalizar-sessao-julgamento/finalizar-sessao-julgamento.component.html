<div class="px-40 py-13 w-full bg-white">

    <!-- Header -->
    <div class="flex flex-row">
        <div class="flex flex-col text-accent-500 space-y-2 mt-2">
            <span class="text-2xl text-primary-500 font-medium">ATA DA SESSÃO {{sessao.numero}}/{{sessao.ano}}</span>
            <span>{{getData()}}</span>
            <span>100 processos</span>
        </div>
        <mat-chip-list class="ml-8">
            <mat-chip>
               {{firstToUpperCase(sessao.colegiado)}}
            </mat-chip>
            <mat-chip>
                {{firstToUpperCase(sessao.tipo)}}
            </mat-chip>
            <mat-chip>
                {{firstToUpperCase(sessao.modalidade)}}
            </mat-chip>
        </mat-chip-list>
    </div>

    <!-- Main -->
    <div class="flex flex-col mt-8">
        <span class="text-2xl text-primary font-medium">Composição</span>
        
        <div class="grid grid-flow-row max-w-140">
            <div class="flex flex-row justify-end pr-10">
                <span class="mr-3">Presente</span>
                <span class="ml-4 mr-3">Ausente</span>
                <span class="ml-4">Presidente</span>
            </div>
            <div class="flex flex-row items-center py-2 overflow-hidden">
                <span class="w-15">Presidente</span>
                <object class="flex w-5 h-10 bg-blue-600 mx-4 -my-20"></object>
                <span class="flex flex-row items-center w-48 mr-2">
                    <img [src]="presidente?.imagem" alt="Imagem de perfil"
                        class="w-10 h-10 mr-2 rounded-full ng-tns-c129-57 ng-star-inserted">
                    {{presidente.nome}}
                </span>
                <mat-checkbox 
                    #presente
                    class="mr-15" 
                    color="primary"
                    (change)="ausente.checked=false"
                ></mat-checkbox>
                <mat-checkbox 
                    #ausente
                    class="mr-15" 
                    color="primary"
                    (change)="presente.checked=false"
                ></mat-checkbox>
                <mat-checkbox
                    [checked]="isChecked(presidente.nome)"
                    [name]="presidente.nome"
                    color="primary"
                    (change)="checked($event)"
                ></mat-checkbox>
            </div>
            <div class="flex flex-row items-center py-2 overflow-hidden">
                <span class="w-15">1ª Turma</span>
                <object class="flex w-5 bg-orange-500 mx-4 -my-20"></object>
                <div class="flex-col space-y-4">
                    <div class="flex flex-1" *ngFor="let primeira of primeiraTurma; index as i">
                        <span class="flex flex-row items-center w-48 mr-2">
                            <img [src]="primeira?.imagem" alt="Imagem de perfil"
                                class="w-10 h-10 mr-2 rounded-full ng-tns-c129-57 ng-star-inserted">
                            {{primeira.nome}}
                        </span>
                        <mat-checkbox 
                            #presente1
                            class="mr-15 pt-3" 
                            color="primary"
                            (change)="ausente1.checked=false"
                        ></mat-checkbox>
                        <mat-checkbox 
                            #ausente1
                            class="mr-15 pt-3" 
                            color="primary"
                            (change)="presente1.checked=false"
                        ></mat-checkbox>
                        <mat-checkbox 
                            [checked]="isChecked(primeira.nome)"
                            [name]="primeira.nome"
                            class="pt-3" 
                            color="primary"
                            (change)="checked($event)"
                        ></mat-checkbox>
                    </div>
                </div>
            </div> 
            <div class="flex flex-row items-center pt-2 overflow-hidden">
                <span class="w-15">2ª Turma</span>
                <object class="flex w-5 bg-green-700 mx-4 -my-20"></object>
                <div class="flex flex-col space-y-4">
                    <div class="flex flex-1" *ngFor="let segunda of segundaTurma; index as j">
                        <span class="flex flex-row items-center w-48 mr-2">
                            <img [src]="segunda?.imagem" alt="Imagem de perfil"
                                class="w-10 h-10 mr-2 rounded-full ng-tns-c129-57 ng-star-inserted">
                            {{segunda.nome}}
                        </span>
                        <mat-checkbox 
                            #presente2
                            [checked]="presente2.checked" 
                            class="mr-15 pt-3" 
                            color="primary"
                            (change)="ausente2.checked=false"
                        ></mat-checkbox>
                        <mat-checkbox 
                            #ausente2
                            [checked]="ausente2.checked"
                            class="mr-15 pt-3" 
                            color="primary"
                            (change)="presente2.checked=false"
                        ></mat-checkbox>
                        <mat-checkbox 
                            [checked]="isChecked(segunda.nome)"
                            [name]="segunda.nome"
                            class="pt-3" 
                            color="primary"
                            (change)="checked($event)"
                        ></mat-checkbox>
                    </div>
                </div>
            </div> 
        </div>

        <mat-form-field appearance="fill" class="w-full max-w-80 mt-8">
            <mat-label class="font-medium">Secretário da Sessão</mat-label>
            <input 
                matInput 
                name="secretario" 
                type="text" 
                [formControl]="secretario" 
                required
                [matAutocomplete]="auto"
            >
            <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                  {{option}}
                </mat-option>
            </mat-autocomplete>
            <mat-hint>Informe o secretário ou secretária da sessão</mat-hint>
            <mat-error class="mb-1" *ngIf="secretario.invalid">
                {{getErrorMessage()}}
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="w-full mt-8">
            <mat-label class="font-medium">Outros presentes</mat-label>
            <input matInput name="outros" [formControl]="outrosPresente">
            <mat-hint>Informe o nome de outros presentes caso existam. O texto será gravado e apresentado da forma que escrita.</mat-hint>
        </mat-form-field>

        <span class="text-2xl font-medium text-primary mt-8">Cabeçalho</span>
        <mat-form-field appearance="outline" class="w-full mt-4">
            <mat-label class="font-medium">Digite o cabeçalho ou informações complementares</mat-label>
            <textarea matInput rows="10" name="cabecalho" [formControl]="cabecalho"></textarea>
        </mat-form-field>

        <div class="flex flex-row space-x-2 ml-auto">
            <button mat-button>Cancelar</button>
            <button mat-button class="text-white bg-primary">Salvar</button>
        </div>
    </div>
</div>
